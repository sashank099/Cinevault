const directorData = {
	"nolan": {
		"name": "Christopher Nolan",
		"bio": "A British-American director known for his complex storytelling and innovative filmmaking techniques. He has directed several critically acclaimed films, including 'Inception', 'The Dark Knight Trilogy', and 'Interstellar'.",
		"movies": ["The Dark Knight", "Inception", "Interstellar", "Dunkirk"],
		"img": "/assets/directorImg/nolan.jpeg"
	},
	"hirani": {
		"name": "Rajkumar Hirani",
		"bio": "One of Hindi cinema's most successful directors, famous for his 'feel-good' social comedies that address serious issues with a light, humorous touch.",
		"movies": ["3 Idiots", "Munna Bhai M.B.B.S.", "PK", "Sanju"],
		"img": "/assets/directorImg/hirani.jpeg"
	},
	"egilmez": {
		"name": "Ertem Eğilmez",
		"bio": "A legendary Turkish director and producer, he is the father of the 'Arzu Film' style, known for heartwarming ensemble comedies that defined a generation of Turkish cinema.",
		"movies": ["The Chaos Class", "Canim Kardesim", "Tosun Pasa", "Süt Kardesler"],
		"img": "/assets/directorImg/egilmez.jpeg"
	},
	"kurosawa": {
		"name": "Akira Kurosawa",
		"bio": "A Japanese master whose dynamic style and epic storytelling influenced both Eastern and Western cinema, particularly the Star Wars and Western genres.",
		"movies": ["Seven Samurai", "Rashomon", "Ran", "Ikiru"],
		"img": "/assets/directorImg/kurosawa.jpeg"
	},
	"hitchcock": {
		"name": "Alfred Hitchcock",
		"bio": "The 'Master of Suspense' who pioneered many techniques in the thriller and psychological horror genres, creating some of the most iconic moments in film history.",
		"movies": ["Psycho", "Rear Window", "Vertigo", "North by Northwest"],
		"img": "/assets/directorImg/hitchcock.jpeg"
	},
	"bergman": {
		"name": "Ingmar Bergman",
		"bio": "A Swedish filmmaker known for his profound and somber explorations of human psychology, death, and faith, often through intimate domestic dramas.",
		"movies": ["The Seventh Seal", "Persona", "Wild Strawberries", "Fanny and Alexander"],
		"img": "/assets/directorImg/bergman.jpeg"
	},
	"kubrick": {
		"name": "Stanley Kubrick",
		"bio": "A meticulous perfectionist known for his visual style and groundbreaking technical achievements across diverse genres like sci-fi, horror, and war.",
		"movies": ["2001: A Space Odyssey", "The Shining", "A Clockwork Orange", "Full Metal Jacket"],
		"img": "/assets/directorImg/kubrick.jpeg"
	},
	"scorsese": {
		"name": "Martin Scorsese",
		"bio": "An American icon whose work focuses on Italian-American identity, Catholic concepts of guilt, and the gritty underworld of crime and obsession.",
		"movies": ["Goodfellas", "Taxi Driver", "The Departed", "The Wolf of Wall Street"],
		"img": "/assets/directorImg/scorsese.jpeg"
	},
	"upendra": {
		"name": "Upendra Rao",
		"bio": "A visionary Kannada director and actor. His films are known for their philosophical depth, non-linear structures, and challenging the audience's perceptions.",
		"movies": ["Om", "A", "Upendra", "Super"],
		"img": "/assets/directorImg/upendra.jpeg"
	},
	"spielberg": {
		"name": "Steven Spielberg",
		"bio": "The architect of the modern blockbuster. Spielberg is celebrated for his emotional storytelling and his ability to move seamlessly between spectacle and drama.",
		"movies": ["Schindler's List", "Saving Private Ryan", "Jaws", "Jurassic Park"],
		"img": "/assets/directorImg/spielberg.jpeg"
	},
	"fellini": {
		"name": "Federico Fellini",
		"bio": "An Italian director known for his distinct style that blends memory, dreams, and baroque imagery, often blurring the line between fantasy and reality.",
		"movies": ["8½", "La Dolce Vita", "Nights of Cabiria", "Amarcord"],
		"img": "/assets/directorImg/fellini.jpeg"
	},
	"wyler": {
		"name": "William Wyler",
		"bio": "A giant of Hollywood's Golden Age, he was known for his 'perfectionist' directing style and holds the record for most Best Director Oscar nominations.",
		"movies": ["Ben-Hur", "The Best Years of Our Lives", "Roman Holiday", "The Little Foxes"],
		"img": "/assets/directorImg/wyler.jpeg"
	},
	"ozu": {
		"name": "Yasujirō Ozu",
		"bio": "A Japanese master of domestic drama, famous for his uniquely low camera angles and quiet, moving stories about the transition of life and family.",
		"movies": ["Tokyo Story", "Late Spring", "Floating Weeds", "An Autumn Afternoon"],
		"img": "/assets/directorImg/ozu.jpeg"
	},
	"chaplin": {
		"name": "Charles Chaplin",
		"bio": "The most famous figure of the silent era, Chaplin balanced slapstick comedy with deep social pathos, writing and directing his own masterpieces.",
		"movies": ["City Lights", "Modern Times", "The Great Dictator", "The Kid"],
		"img": "/assets/directorImg/chaplin.jpeg"
	},
	"tarantino": {
		"name": "Quentin Tarantino",
		"bio": "A filmmaker known for his stylized violence, non-linear timelines, and razor-sharp dialogue that frequently pays homage to obscure cinema history.",
		"movies": ["Pulp Fiction", "Django Unchained", "Inglourious Basterds", "Reservoir Dogs"],
		"img": "/assets/directorImg/tarantino.jpeg"
	},
	"miyazaki": {
		"name": "Hayao Miyazaki",
		"bio": "Co-founder of Studio Ghibli and a master of hand-drawn animation, he creates imaginative worlds that explore environmentalism and human connection.",
		"movies": ["Spirited Away", "Princess Mononoke", "My Neighbor Totoro", "Howl's Moving Castle"],
		"img": "/assets/directorImg/miyazaki.jpeg"
	},
	"coppola": {
		"name": "Francis Ford Coppola",
		"bio": "A leading figure of the 1970s New Hollywood movement, he directed some of the most critically acclaimed and commercially successful films of all time.",
		"movies": ["The Godfather", "The Godfather Part II", "Apocalypse Now", "The Conversation"],
		"img": "/assets/directorImg/coppola.jpeg"
	},
	"ratnam": {
		"name": "Mani Ratnam",
		"bio": "An Indian director who revolutionized Tamil cinema by blending political themes with high-production value mainstream aesthetics.",
		"movies": ["Nayakan", "Roja", "Dil Se..", "Iruvar"],
		"img": "/assets/directorImg/ratnam.jpeg"
	},
	"jackson": {
		"name": "Peter Jackson",
		"bio": "The New Zealand director who achieved global fame for his epic 'Lord of the Rings' trilogy, setting a new standard for world-building and CGI.",
		"movies": ["The Fellowship of the Ring", "The Return of the King", "King Kong", "The Two Towers"],
		"img": "/assets/directorImg/jackson.jpeg"
	},
	"leone": {
		"name": "Sergio Leone",
		"bio": "The pioneer of the Spaghetti Western, known for his extreme close-ups, long tense silences, and his collaboration with composer Ennio Morricone.",
		"movies": ["The Good, the Bad and the Ugly", "Once Upon a Time in the West", "A Fistful of Dollars", "Once Upon a Time in America"],
		"img": "/assets/directorImg/leone.jpeg"
	},
	"bunuel": {
		"name": "Luis Buñuel",
		"bio": "A Spanish-Mexican surrealist filmmaker whose work often satirized the hypocrisy of the middle class and the Catholic Church with dark humor.",
		"movies": ["The Discreet Charm of the Bourgeoisie", "Los Olvidados", "Belle de Jour", "Un Chien Andalou"],
		"img": "/assets/directorImg/bunuel.jpeg"
	},
	"fincher": {
		"name": "David Fincher",
		"bio": "Known for his meticulous visual style and dark psychological thrillers that explore the obsession and darker impulses of the human mind.",
		"movies": ["Fight Club", "Se7en", "The Social Network", "Zodiac"],
		"img": "/assets/directorImg/fincher.jpeg"
	},
	"hawks": {
		"name": "Howard Hawks",
		"bio": "A versatile director of Hollywood's Golden Age who mastered every genre, known for his fast-paced dialogue and strong, independent characters.",
		"movies": ["Rio Bravo", "The Big Sleep", "Bringing Up Baby", "His Girl Friday"],
		"img": "/assets/directorImg/hawks.jpeg"
	},
	"lang": {
		"name": "Fritz Lang",
		"bio": "A giant of German Expressionism who created the visual blueprint for both science fiction and film noir with his grand, architectural style.",
		"movies": ["Metropolis", "M", "The Big Heat", "Fury"],
		"img": "/assets/directorImg/lang.jpeg"
	},
	"lumet": {
		"name": "Sidney Lumet",
		"bio": "An American master of social realism, celebrated for his powerhouse directing of actors and his focus on ethics, justice, and urban pressure.",
		"movies": ["12 Angry Men", "Network", "Dog Day Afternoon", "Serpico"],
		"img": "/assets/directorImg/lumet.jpeg"
	}
};

document.addEventListener('DOMContentLoaded', () => {
    
    // --- DIRECTOR DETAILS PAGE LOGIC ---
    const params = new URLSearchParams(window.location.search);
    const directorKey = params.get('name');

    if (directorKey && directorData[directorKey]) {
        const data = directorData[directorKey];
        
        // Set Text Content
        const nameEl = document.getElementById('directorName');
        const bioEl = document.getElementById('directorBio');
        
        if (nameEl) nameEl.textContent = data.name;
        if (bioEl) bioEl.textContent = data.bio;
        
        // Background Logic
        document.body.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), url('${data.img}')`;
        document.body.style.backgroundSize = "cover";
        document.body.style.backgroundPosition = "center";
        document.body.style.backgroundRepeat = "no-repeat";
        document.body.style.backgroundAttachment = "fixed"; 

        // Build Movie List
        const moviesList = document.getElementById('movieList');
        if (moviesList) {
            moviesList.innerHTML = ""; // Clear list
            data.movies.forEach(movie => {
                const li = document.createElement("li");
                li.innerText = movie;
                moviesList.appendChild(li);
            });
        }
    } else if (window.location.pathname.includes('director.html') && !directorKey) {
        const nameEl = document.getElementById('directorName');
        if (nameEl) nameEl.textContent = "Director Not Found";
    }

    // --- HOME PAGE SEARCH LOGIC ---
    const searchInput = document.getElementById('searchInput');
    const directorContainer = document.getElementById('directorContainer');

    if (searchInput && directorContainer) {
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            const cards = directorContainer.querySelectorAll('a'); 

            cards.forEach(cardLink => {
                
                const nameEl = cardLink.querySelector('.directorName');
                const nameText = nameEl ? nameEl.textContent.toLowerCase() : "";

                
                const href = cardLink.getAttribute('href');
                let movieMatch = false;

                if (href && href.includes('?name=')) {
                    const keyPart = href.split('name=')[1];
                    const key = keyPart ? keyPart.split('&')[0] : null;

                    if (key && directorData[key]) {
                        movieMatch = directorData[key].movies.some(movie => 
                            movie.toLowerCase().includes(searchTerm)
                        );
                    }
                }

            
                if (nameText.includes(searchTerm) || movieMatch) {
                    cardLink.style.display = ""; // Reset to default (flex/block)
                } else {
                    cardLink.style.display = "none"; // Hide
                }
            });
        });
    }
});